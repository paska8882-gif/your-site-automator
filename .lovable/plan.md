
# План: Покращення унікальності сайтів + вибір кольорової гами

## Суть проблеми
Зараз сайти виглядають однотипно через:
1. **Кольори обираються рандомно** - користувач не може вплинути
2. **Стиль з промпту ігнорується AI** - він генерує що хоче
3. **CSS базується на жорсткому шаблоні** - кольорова схема застосовується вже ПІСЛЯ генерації

---

## Рішення

### 1. Додати вибір кольорової гами в UI

**Нова опція в генераторі:**
```text
🎨 Кольорова гама:
├─ 🌊 Океан (синій/блакитний)
├─ 🌲 Ліс (зелений)
├─ 🌅 Захід (червоний/оранжевий)
├─ 👑 Королівський (фіолетовий)
├─ 🌫️ Сланець (сірий)
├─ 🦢 Чирок (бірюзовий)
├─ 🪸 Корал (помаранчевий)
├─ 🌙 Північ (темно-синій)
├─ 🌹 Роза (рожевий)
├─ 💎 Смарагд (зелений)
├─ 🎲 Випадково (поточна поведінка)
└─ ⚙️ Власний (HEX кольори - опція для адмінів)
```

**Де розмістити:** поруч з вибором стилю (Layout Style), у тій же групі налаштувань.

---

### 2. Посилити передачу стилю в AI промпт

Зараз стиль передається як простий опис. Потрібно:

**До (слабко):**
```
LAYOUT STYLE: Modern Asymmetric
- Hero: Split-screen layout...
```

**Після (сильно):**
```
⚠️ MANDATORY VISUAL STYLE - NON-NEGOTIABLE! ⚠️
STYLE: Modern Asymmetric
YOU MUST USE EXACTLY:
- Hero: 60/40 split-screen layout with image RIGHT side overlapping border
- Grid: Asymmetric 2:1 and 1:2 column ratios
- Cards: Staggered with different sizes
- Dividers: Diagonal/angled section separators

⚠️ MANDATORY COLOR PALETTE - USE THESE EXACT COLORS! ⚠️
PRIMARY: #553c9a (Royal Purple)
SECONDARY: #44337a
ACCENT: #805ad5
BACKGROUND LIGHT: #faf5ff
TEXT: #4a5568
HEADING: #1a202c

IF YOU DEVIATE FROM THIS STYLE = WEBSITE IS BROKEN!
```

---

### 3. Передача кольорової схеми в генерацію

**Новий параметр:** `colorScheme?: string` у функцію `startGeneration()`

**Потік даних:**
```text
UI (вибір) → websiteGenerator.ts → Edge Function → AI Prompt
                                         ↓
                              (colorScheme: "royal")
                                         ↓
                              ensureQualityCSS() використовує
                              саме цю схему замість рандому
```

---

### 4. Технічні зміни

#### A. Frontend (WebsiteGenerator.tsx)
- Додати `useState` для `selectedColorScheme`
- Додати UI селектор кольорової гами
- Додати до функції `startGeneration()` параметр `colorScheme`

#### B. Library (websiteGenerator.ts)
- Додати параметр `colorScheme?: string` до `startGeneration()`
- Передавати в тіло запиту до Edge Function

#### C. Edge Function (generate-website/index.ts)
- Прийняти `colorScheme` з body
- Передати в `runGeneration()` та `ensureQualityCSS()`
- У функції `ensureQualityCSS()`: якщо `colorScheme` вказано - використати саме його, інакше - рандом

#### D. AI Промпт
- Посилити секцію кольорів та стилю з обов'язковими позначками
- Додати назву кольорової схеми та HEX-коди прямо в промпт

---

### 5. Приклад UI

```text
┌─────────────────────────────────────────┐
│ 🎨 Стиль оформлення                      │
│ ┌─────────────────┐ ┌─────────────────┐ │
│ │ 📐 Макет        │ │ 🎨 Кольори      │ │
│ │ [Класичний   ▼] │ │ [Океан      ▼] │ │
│ └─────────────────┘ └─────────────────┘ │
│                                         │
│ 👁️ Попередній перегляд кольорів:        │
│ ■ #0d4f8b ■ #1a365d ■ #3182ce          │
└─────────────────────────────────────────┘
```

---

### 6. Порядок впровадження

| # | Крок | Файли |
|---|------|-------|
| 1 | Додати константи кольорових схем | `websiteGenerator.ts` |
| 2 | Додати UI вибору кольорів | `WebsiteGenerator.tsx` |
| 3 | Оновити `startGeneration()` | `websiteGenerator.ts` |
| 4 | Оновити Edge Function | `generate-website/index.ts` |
| 5 | Посилити AI промпт | `generate-website/index.ts` |
| 6 | Оновити PHP генерацію | `generate-php-website/index.ts` |

---

## Очікуваний результат

**До:**
- Всі сайти мають випадкові кольори
- Стиль описаний в промпті ігнорується
- Сайти виглядають "однотипно"

**Після:**
- Користувач обирає кольорову гаму
- Стиль жорстко прописаний в AI промпті
- Кольори з UI гарантовано застосовуються до CSS
- Більше візуальної різноманітності

---

## Примітка щодо VIP/теми

Оскільки вже є "Theme Mode" з вибором категорії/ніші, кольорова гама може бути окремою опцією АБО автоматично підбиратися під тему:
- IT → синій/сланцевий
- Здоров'я → зелений/смарагд
- Краса → рожевий/роза
- Фінанси → темно-синій/північ

Це можна реалізувати як додаткову логіку на другому етапі.
